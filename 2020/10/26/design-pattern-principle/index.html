<!--
 * @Descripttion: 
 * @Date: 2020-07-08 21:19:26
-->
<!DOCTYPE html>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">

    

    <!--icon-->
    
        <link rel="shortcut icon" type='image/x-icon' href="/logoicon.png">
    

    <!-- 渲染优化 -->
    <meta name="renderer" content="webkit">
    <meta name="force-rendering" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="HandheldFriendly" content="True" >
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- meta -->
    
    <title>设计模式原则 | ohhh&#39;s Blog</title>
    
        <meta name="keywords" content="undefined设计模式">
    

    <!-- OpenGraph -->
     
        <meta name="description" content="这些天来学习设计模式的一点小结。">
<meta property="og:type" content="article">
<meta property="og:title" content="设计模式原则">
<meta property="og:url" content="http://yoursite.com/2020/10/26/design-pattern-principle/index.html">
<meta property="og:site_name" content="ohhh&#39;s Blog">
<meta property="og:description" content="这些天来学习设计模式的一点小结。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://pink-1301702299.cos.ap-chengdu.myqcloud.com/silence/cover/202017454.png">
<meta property="article:published_time" content="2020-10-26T15:09:43.000Z">
<meta property="article:modified_time" content="2020-10-27T12:35:22.853Z">
<meta property="article:author" content="mingfu">
<meta property="article:tag" content="设计模式">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://pink-1301702299.cos.ap-chengdu.myqcloud.com/silence/cover/202017454.png">
    

    <!-- feed -->
    
        <link rel="alternate" href="/atom.xml" title="ohhh's Blog">
    

    
<link rel="stylesheet" href="/css/style/main.css">
 
    
    
        
            <link rel="stylesheet" href="/css/highlight/nnfx-dark.css" media="none" onload="this.media='all'">
        
    

    
        <link rel="stylesheet" href="/css/style/note.css" media="none" onload="this.media='all'">
    

    
        
<link rel="stylesheet" href="/css/style/dark.css">

        
<script src="/js/darkmode.js"></script>

    

     
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
     

    

<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="ohhh's Blog" type="application/atom+xml">
</head>
<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<link rel="stylesheet" href="/strawberry-v2.0.0/style.css">
<style>
    .pace .pace-progress {
        background: #9933ff  ; /*进度条颜色*/
        height: 3px;
    }
    .pace .pace-progress-inner {
         box-shadow: 0 0 10px #3677FF, 0 0 5px #3677FF; /*阴影颜色*/
    }
</style>
    <body>
        <div id="app">
            <!--
 * @Descripttion: 
 * @Date: 2020-07-08 21:19:26
-->
<!--
 * @Descripttion: 
 * @Date: 2020-07-08 21:19:26
-->
<!--
 * @Descripttion: 
 * @Date: 2020-07-08 21:19:26
-->
<header class="header">
    <div class="header__left">
        <a href="/" class="button">
            <span class="logo__text czs-nail">
                ohhh's Blog 
            </span>
        </a>
    </div>
    <div class="header__right"> 
        
            <a href="javaScript:void(0);" id="btn-toggle-dark" class="czs-sun" style=" font-size: 32px;text-decoration: none;"></a>
             
            <a href="javaScript:void(0);" id="b2t" style="" aria-label="回到顶部" title="回到顶部">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" width="32" height="32"><path d="M233.376 722.752L278.624 768 512 534.624 745.376 768l45.248-45.248L512 444.128zM192 352h640V288H192z" fill="#ffb248"></path></svg>
            </a>
        
            <a class="dropdown-icon button" id="btn-dropdown">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width='24' height='24' fill="none" stroke="currentColor" stroke-width="0.7" stroke-linecap="round" stroke-linejoin="round">
                    <path fill="currentColor" d="M3.314,4.8h13.372c0.41,0,0.743-0.333,0.743-0.743c0-0.41-0.333-0.743-0.743-0.743H3.314c-0.41,0-0.743,0.333-0.743,0.743C2.571,4.467,2.904,4.8,3.314,4.8z M16.686,15.2H3.314c-0.41,0-0.743,0.333-0.743,0.743s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,15.2,16.686,15.2z M16.686,9.257H3.314c-0.41,0-0.743,0.333-0.743,0.743s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,9.257,16.686,9.257z"></path>
                </svg>
            </a>
            <div class="dropdown-menus" id="dropdown-menus">
                <a class="dropback-icon button" id="btn-dropback">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width='24' height='24' fill="none" stroke="currentColor" stroke-width="0.7" stroke-linecap="round" stroke-linejoin="round">
                        <path fill="currentColor" d="M11.469,10l7.08-7.08c0.406-0.406,0.406-1.064,0-1.469c-0.406-0.406-1.063-0.406-1.469,0L10,8.53l-7.081-7.08c-0.406-0.406-1.064-0.406-1.469,0c-0.406,0.406-0.406,1.063,0,1.469L8.531,10L1.45,17.081c-0.406,0.406-0.406,1.064,0,1.469c0.203,0.203,0.469,0.304,0.735,0.304c0.266,0,0.531-0.101,0.735-0.304L10,11.469l7.08,7.081c0.203,0.203,0.469,0.304,0.735,0.304c0.267,0,0.532-0.101,0.735-0.304c0.406-0.406,0.406-1.064,0-1.469L11.469,10z"></path>
                    </svg>
                </a>
                
                    <a href="/tags/" class="dropdown-menu button">
                        标签
                    </a>
                
                    <a href="/archives/" class="dropdown-menu button">
                        归档
                    </a>
                
                    <a href="/categories/" class="dropdown-menu button">
                        分类
                    </a>
                
                    <a href="/friend/" class="dropdown-menu button">
                        友链
                    </a>
                
                    <a href="/about/" class="dropdown-menu button">
                        
                    </a>
                
                    <a href="/atom.xml" class="dropdown-menu button">
                        
                    </a>
                
                    <a href="https://github.com/pinkkmin" target="_blank" rel="noopener" class="dropdown-menu button">
                        
                    </a>
                
            </div>
            <script>
                document.getElementById('btn-toggle-dark').addEventListener('click', () => {
                    const dd = document.getElementById('btn-toggle-dark');
                    if(dd.className === 'czs-sun')
                        dd.className = 'czs-moon'
                    else 
                        dd.className = 'czs-sun'
                });
                document.getElementById('btn-dropdown').addEventListener('click', () => {
                    const dd = document.getElementById('dropdown-menus');
                    requestAnimationFrame(() => {
                        dd.style.display = 'flex';
                        requestAnimationFrame(() => {
                            dd.style.transform = 'translateY(0)';
                            dd.style.opacity = '1';
                        });
                    });
                });
                document.getElementById('btn-dropback').addEventListener('click', () => {
                    const dd = document.getElementById('dropdown-menus');
                    dd.style.transform = 'translateY(2.25rem)';                    
                    dd.style.opacity = '0';
                    setTimeout(() => {dd.style.display = 'none';}, 350);
                });
            </script>
        
    </div>
</header>


            <main class="main">
    <!--
 * @Descripttion: 
 * @Date: 2020-07-08 21:19:26
-->
<div class="post-title">
    <h1 class="post-title__text">
        设计模式原则
    </h1>
    <div class="post-title__meta">
        
            <a href="/archives/2020/10/" class="button" style="color: #808080;">
    2020-10-26
</a>
        
        
            
 
        
        
     
 

  
    &nbsp;
		<i class="czs-chemistry"></i>
	    <span class="post-wordcount">字数:3.2k&nbsp;&nbsp;&nbsp;</span>
        <i class="czs-calculator"></i>
		<span class="post-count">阅读时长 ≈ 12分钟</span>
    </div>
</div>


    <div class="post__with-side">
        <aside class="post-side">
            <div class="post-side__toc">  
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#单一职责原则"><span class="toc-text">单一职责原则</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#intent"><span class="toc-text">intent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#conclusion"><span class="toc-text">conclusion</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#接口隔离原则"><span class="toc-text">接口隔离原则</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#intent-v2"><span class="toc-text">intent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#conclusion-v2"><span class="toc-text">conclusion</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#依赖倒置原则"><span class="toc-text">依赖倒置原则</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#intent-v3"><span class="toc-text">intent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#conclusion-v3"><span class="toc-text">conclusion</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#里氏替换原则"><span class="toc-text">里氏替换原则</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#intent-v4"><span class="toc-text">intent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Conclusion"><span class="toc-text">Conclusion</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#开闭原则"><span class="toc-text">开闭原则</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#intent-v5"><span class="toc-text">intent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Conclusion-v2"><span class="toc-text">Conclusion</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#迪米特原则"><span class="toc-text">迪米特原则</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#intent-v6"><span class="toc-text">intent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Conclusion-v3"><span class="toc-text">Conclusion</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#合成复用原则"><span class="toc-text">合成复用原则</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#intent-v7"><span class="toc-text">intent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Conclusion-v4"><span class="toc-text">Conclusion</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#最后和读了"><span class="toc-text">最后和读了</span></a></li></ol>
            </div>
        </aside>
        <article class="post content-card">
            <div class="post__header">
                
                    <!--
 * @Descripttion: 
 * @Date: 2020-07-08 21:19:26
-->


    <img alt="Cover Image" src="https://pink-1301702299.cos.ap-chengdu.myqcloud.com/silence/cover/202017454.png">
 
                
                
                    
    <div class="post__expire" id="post-expired-notify">
        <p>
            本文最后更新于 <span id="expire-date"></span> 天前，文中部分描述可能已经过时。
        </p>
    </div>
    <script>
        (() => {
            var update = Date.parse("2020-10-27"),
                date = new Date(),
                now = date.getTime(),
                expire = now - update,
                expire_days = Math.floor(expire/(24*3600*1000));
            if (expire_days >= 120) {
                document.querySelectorAll('#expire-date')[0].innerHTML = expire_days;
                document.querySelectorAll('#post-expired-notify')[0].style.display = 'block';
            }
        })();
    </script>

                
            </div>
            <div class="post__content">
                <div class="md-content">
                    <p>在写软件工程课设的过程中，我发现随着代码量增多，稍微一修改代码就有“牵一发而动全身”之感（<s>每次看代码都想抽自己</s>），扩展和维护及其困难，恍惚有一种过程式编程的体验。而且在许多功能和类的职责的划分上页十分草率，耦合度相当的高，于是，是时候该看一看设计模式了。</p>
<h2 id="单一职责原则"><a class="header-anchor" href="#单一职责原则">¶</a>单一职责原则</h2>
<blockquote>
<p>Single Responsibility Principle:  a class should have only one reason to change.</p>
<p>一个类，应当只有一个引起它变化的原因；即一个类应该只有一个职责。一个类只负责一项职责。</p>
</blockquote>
<h3 id="intent"><a class="header-anchor" href="#intent">¶</a>intent</h3>
<p>单一职责原则的核心是控制类的粒度大小、将对象解耦、提高内聚性。该原则强调对象不应该承担过多的职责，如果一个对象承担了太多的职责，那么一个职责的变化可能会削弱或抑制这个类实现其他职责的能力；当客户需要对象的某一职责时，不得不将其他不需要的职责包含进来，造成代码冗余。</p>
<h3 id="conclusion"><a class="header-anchor" href="#conclusion">¶</a>conclusion</h3>
<p>The Single Responsibility Principle represents a good way of identifying classes during the design phase of an application and it reminds you to think of all the ways a class can evolve. A good separation of responsibilities is done only when the full picture of how the application should work is well understand.</p>
<p>类的复杂性降低，实现什么职责都有清晰明确的定义；可读性提高，可维护性提高，变更的风险降低。</p>
<h2 id="接口隔离原则"><a class="header-anchor" href="#接口隔离原则">¶</a>接口隔离原则</h2>
<blockquote>
<p>Interface segregation Principle: Clients should not be forced to depend upon interfaces that they don’t use.</p>
<p>客户端不应该依赖它不需要的接口。</p>
<p>The dependency of one class to another one should depend on the smallest possibleinterface.</p>
<p>类间的依赖关系应该建立在最小的接口上。</p>
</blockquote>
<h3 id="intent-v2"><a class="header-anchor" href="#intent-v2">¶</a>intent</h3>
<p>实例接口Object Interface，java中声明一个类，然后用new关键字产生一个实例，它是对一个类型的事物所具有的方法特征的描述，仅是一种逻辑上的抽象。</p>
<p>类接口 Class Interface 指在java中使用interface严格定义的接口，如下：</p>
<ul>
<li>一个接口代表一个角色，不应当将不同的角色都交给一个接口。没有关系的接口合并在一起，形成一个臃肿的大接口，这是对角色和接口的污染。</li>
<li>不应该强迫客户依赖于它们不用的方法。接口属于客户，不属于它所在的类层次结构，即不要强迫客户使用它们不用的方法，否则这些客户就会面临由于这些不使用的方法的改变所带来的改变。</li>
</ul>
<p>接口隔离原则核心是约束接口、降低类对接口的依赖性。遵循接口隔离原则，可将臃肿的接口细分为粒度较小的接口，预防外来变更的扩散，提高系统的灵活性和可维护性。接口隔离提高了系统的内聚性，减少了对外交互，降低系统的耦合性，如果接口粒度大小定义合理<s>很难把握</s>，能够提高系统的稳定性，接口过多导致数量剧增，粒度大接口少灵活性又会降低，无法提供定制服务，给整体项目带来无法预料的风险。</p>
<h3 id="conclusion-v2"><a class="header-anchor" href="#conclusion-v2">¶</a>conclusion</h3>
<p>If the design is already done fat interfaces can be segregated using the Adapter pattern.</p>
<p>Like every principle Interface Segregation Principle is one principle which require additional time and effort spent to apply it during the design time and increase the complexity of code. But it produce a flexible design. If we are going to apply it more than is necessary it will result a code containing a lot of interfaces with single methods, so applying should be done based on experience and common sense in identifying the areas where extension of code are more likely to happens in the future.</p>
<p>接口隔离和单一职责都是为了提高类的内聚性、降低它们之间的耦合性，体现了封装思想。单一职责注重的是职责，接口隔离注重的是对借口依赖的隔离；单一职责主要是约束类，针对程序中的实现和细节，接口隔离约束接口，针对抽象和程序整体框架的构建。</p>
<h2 id="依赖倒置原则"><a class="header-anchor" href="#依赖倒置原则">¶</a>依赖倒置原则</h2>
<blockquote>
<p>Dependence Inversion Principle: High-level modules should not depend on low-level modules. Both should depend on abstractions. Abstractions should not depend on details. Details should depend on abstractions.</p>
<p>高层模块不应该依赖低层模块，两者都依赖其抽象； 抽象不依赖细节；细节应该依赖于抽象。</p>
</blockquote>
<h3 id="intent-v3"><a class="header-anchor" href="#intent-v3">¶</a>intent</h3>
<p>依赖倒置核心是面向接口编程，不要面向实现编程。采用依赖倒置原则可以减少类间的耦合性，提高系统的稳定性，降低并行开发引起的风险，提高代码的可读性和可维护性</p>
<ul>
<li>
<p>通过接口传递实现依赖</p>
</li>
<li>
<p>通过构造函数实现依赖传递</p>
</li>
<li>
<p>通过setter方法实现传递</p>
</li>
</ul>
<p>模块间的依赖通过抽象发生，实现类之间不发生直接的依赖关系，其依赖关系是通过接口或抽象类产生。</p>
<h3 id="conclusion-v3"><a class="header-anchor" href="#conclusion-v3">¶</a>conclusion</h3>
<p>When this principle is applied it means the high level classes are not working directly with low level classes, they are using interfaces as an abstract layer. In this case instantiation of new low level objects inside the high level classes(if necessary) can not be done using the operator new. Instead, some of the Creational design patterns can be used, such as Factory Method, Abstract Factory, Prototype.</p>
<p>The Template Design Pattern is an example where the DIP principle is applied.</p>
<p>Of course, using this principle implies an increased effort, will result in more classes and interfaces to maintain, in a few words in more complex code, but more flexible. This principle should not be applied blindly for every class or every module. If we have a class functionality that is more likely to remain unchanged in the future there is not need to apply this principle.</p>
<p>底层模块尽量有抽象类或接口，变量的声明类型尽量是抽象类或接口，如此在变量的引用和实际对象间存在一个缓冲层，利于程序的扩展和优化。<strong>任何类都不应该从具体类派生</strong>，尽量不要覆写基类的方法，使用继承时需遵守里氏替换原则。</p>
<h2 id="里氏替换原则"><a class="header-anchor" href="#里氏替换原则">¶</a>里氏替换原则</h2>
<blockquote>
<p>Liskov’s Substitution Principle：Derived types must be completely substitutable for their base types.</p>
<p>1.If for each object o1 of type S there is an object o2 of type T such thatfor all programs P defined in terms of S,the behavior of P is unchangedwhen o1 is substituted for o2 then T is a subtype of S.</p>
<p>如果对一个类型为S的对象o1，都有类型为T的对象o2，使得以S定义的所有程序P在所有的对象o1都代换成o2时，程序P的行为没有发生变化，那么类型T是类型S的子类型。</p>
<p>2.Functions that use pointers or references to base classes must be ableto use objects of derived classes without knowing it.</p>
<p>所有引用基类的地方必须能透明地使用其子类对象。</p>
</blockquote>
<h3 id="intent-v4"><a class="header-anchor" href="#intent-v4">¶</a>intent</h3>
<p>只要父类能出现的地方子类就可以出现，而且替换为子类也不会产生任何错误或异常，使用者可能根本就不需要知道父类还是子类；但是反过来则不可以，有子类的地方，父类未必就能适应。在使用继承时，遵循里氏替换原则，在子类中尽量不要重写父类的方法。</p>
<p>在设计模式中体现里氏替换原则的有如下几个模式：</p>
<p>■ 策略模式■ 组合模式■ 代理模式</p>
<h3 id="Conclusion"><a class="header-anchor" href="#Conclusion">¶</a>Conclusion</h3>
<p>This principle is just an extension of the Open Close Principle and it means that we must make sure that new derived classes are extending the base classes without changing their behavior.</p>
<p>里氏替换主要阐述了有关继承的一些原则， 即何时使用继承，何时不该使用继承，里氏替换原则就是继承复用的基础，反映基类与子类之间的关系，是对开闭原则的补充，是实现抽象化的具体步骤的规范。通俗讲，子类可以拓展父类的方法，但不能改变父类原有的功能(尽量不要覆写)。</p>
<h2 id="开闭原则"><a class="header-anchor" href="#开闭原则">¶</a>开闭原则</h2>
<blockquote>
<p>Open Closed Principle ：Software entities like classes, modules and functions should be <strong>open for extension</strong> but <strong>closed for modifications</strong>.</p>
<p>软件实体如类、模块和函数应该对扩展开放，对修改关闭。</p>
</blockquote>
<h3 id="intent-v5"><a class="header-anchor" href="#intent-v5">¶</a>intent</h3>
<p>开闭原则是<strong>最基础</strong>的原则，起到总的指导作用，其他原则（单一职责、里氏替换、依赖倒置、接口隔离、迪米特法则）都是开闭原则的具体形态，即其他原则都是开闭原则的手段和工具。开闭原则可提高代码的复用性，粒度越小，被复用的可能性越大。</p>
<h3 id="Conclusion-v2"><a class="header-anchor" href="#Conclusion-v2">¶</a>Conclusion</h3>
<p>Like every principle OCP is only a principle. Making a flexible design involves additional time and effort spent for it and it introduce new level of abstraction increasing the complexity of the code. So this principle should be applied in those area which are most likely to be changed.</p>
<p>There are many design patterns that help us to extend code without changing it. For instance the Decorator pattern help us to follow Open Close principle. Also the Factory Method or the Observer pattern might be used to design an application easy to change with minimum changes in the existing code.</p>
<p>通过“抽象约束、封装变化”实现开闭原则， 通过接口或抽象类为软件实体定义一个相对稳定的抽象层，将相同的可变因素封装在相同的具体类中。软件中易变的细节可通过从抽象派生来实现类的拓展，当软件需要发生变化时，只需根据需求重新派生实现类来扩展即可。</p>
<h2 id="迪米特原则"><a class="header-anchor" href="#迪米特原则">¶</a>迪米特原则</h2>
<blockquote>
<p>Demeter Principle：Only talk to your immediate friends；don’t talk to strangers.</p>
<p>只与你直接的朋友们通信，不要跟“陌生人”说话。</p>
</blockquote>
<h3 id="intent-v6"><a class="header-anchor" href="#intent-v6">¶</a>intent</h3>
<p>直接朋友？当前对象本身、当前对象的成员对象、当前对象所创建的对象、当前对象的方法参数等，即与当前对象存在关联、组合或聚合关系，可以直接访问这些对象的方法。</p>
<p>只依赖应该依赖的对象，只暴露应该暴露的对象。迪米特原则的使用能够降低类间的耦合度，提高系统的复用性和扩展性，但是滥用又会造成大量的中介者，从而增加此系统复杂性，使模块间的通信效率降低。</p>
<p>在设计模式中，对迪米特法则进行应用的设计模式有如下两个：■ 外观模式■ 中介者模式</p>
<h3 id="Conclusion-v3"><a class="header-anchor" href="#Conclusion-v3">¶</a>Conclusion</h3>
<ul>
<li>在类的划分上，应该创建弱耦合的类，类与类之间的耦合越弱，越有利于实现可复用的目标。</li>
<li>在类的结构设计上，尽量降低类成员的访问权限。</li>
<li>在类的设计上，优先考虑将一个类设为不变类。</li>
<li>在对其他类的引用上，将引用其他对象的次数降至最低。</li>
<li>不暴露属性成员，而选择提供相应的访问器(getter)。</li>
<li>谨慎使用序列化功能（Serializable）。</li>
</ul>
<h2 id="合成复用原则"><a class="header-anchor" href="#合成复用原则">¶</a>合成复用原则</h2>
<p>Composite Resuse Principle</p>
<h3 id="intent-v7"><a class="header-anchor" href="#intent-v7">¶</a>intent</h3>
<p>在软件复用时，尽量优先使用合成、聚合等关联关系来实现，而其次才考虑使用继承关系，使用继承时务必遵循里氏替换原则，合成复用和里式替换相辅相成，都是开闭原则的具体实现规范。</p>
<p>通常类的复用分为继承复用和合成复用，继承复用简单易实现，但会破坏类的封装性，因为继承会将父类的实现细节暴露给子类，父类对子类却是透明的。继承使子类与父类的耦合度变高，父类的实现任何改变都会引起子类的实现发生变化，不利于扩展与维护。继承限制了复用的灵活性，从父类继承而来的实现是静态的，在编译时已经定义，在运行时不可能发生变化。合成复用维持了类的封装性，因为对象的内部细节对新对象是不可见的，新旧类之间的耦合度低，复用的灵活度高，新对象可以动态地引入与成分对象类型相同的对象。</p>
<h3 id="Conclusion-v4"><a class="header-anchor" href="#Conclusion-v4">¶</a>Conclusion</h3>
<p>尽量使用组成、聚合，少用继承。</p>
<h2 id="最后和读了"><a class="header-anchor" href="#最后和读了">¶</a>最后和读了</h2>
<p>开闭原则是总纲，它告诉我们对修改关闭，对扩展开放；里氏替换原则告诉我们不要破坏类的继承体系；依赖倒置原则告诉我们要面向接口编程；单一职责原则告诉我们实现类要职责单一化；接口隔离原则告诉我们在设计接口时要精简单一；迪米特原则告诉我们要降低耦合度；合成复用原则告诉我们要优先使用组合和聚合关系复用，少用继承复用。</p>
<p>《设计模式之禅》</p>
<p>《软件设计模式》java版</p>
<p>《图解设计模式》</p>
<p><a href="https://www.oodesign.com/" target="_blank" rel="noopener">《oodesign》</a></p>
<blockquote>
<p>End: 向美好看齐，向明天说你好。</p>
</blockquote>

                </div>
            </div>
            
                 
            
            
                <div class="post-meta post-footer__meta">
    <p>
        最后更新于：2020-10-27
    </p>
</div> 
            
            
                <div class="post-cats post-card__cats">
    
    
        <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="post-tags__link button"># 设计模式</a>
    
</div> 
             
        </article>
        <br>
    </div>


</main>
<!--
 * @Descripttion: 
 * @Date: 2020-07-08 21:19:26
-->
<footer class="footer">
     


    
        
            <!-- Busuanzi UV -->
            <span id="busuanzi_container_site_uv" hidden>
                <span></span>
                <span id="busuanzi_value_site_uv"></span>
                <span>Viewers</span>
                
                    <span>&nbsp;&nbsp;&nbsp;|</span>
                
            </span>
        
        
            <!-- Busuanzi PV -->
            <span id="busuanzi_container_site_pv" hidden>
                <span></span>
                <span id="busuanzi_value_site_pv"></span>
                <span>Views</span>
                
            </span>
        
     
  
    
        
            <p>Copyright © 2020</p>

        
    
    <p>Powered by <a href="https://hexo.io" target="_blank">Hexo</a> | Theme - <a href="https://github.com/ChrAlpha/hexo-theme-cards" target="_blank">Cards</a></p>
	
</footer>


        </div>
        

 

 

 

  


    
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.4.1/dist/jquery.fancybox.min.css">


<script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.4.1/dist/jquery.fancybox.min.js"></script>

<script>
    let lazyloadT = Boolean(''),
        auto_fancybox = Boolean('true')
    if (auto_fancybox) {
        $(".post__content").find('img').each(function () {
            var element = document.createElement("a");
            $(element).attr("data-fancybox", "gallery");
            $(element).attr("href", $(this).attr("src"));
            if (lazyloadT) {
                $(element).attr("href", $(this).attr("data-srcset"));
            }
            $(this).wrap(element);
        });
    } else {
        $(".post__content").find("fancybox").find('img').each(function () {
            var element = document.createElement("a");
            $(element).attr("data-fancybox", "gallery");
            $(element).attr("href", $(this).attr("src"));
            if (lazyloadT) {
                $(element).attr("href", $(this).attr("data-srcset"));
            }
            $(this).wrap(element);
        });
    }
</script>
 
 

 
    
<script src="/js/b2t.js"></script>






    
    
    
        
<script src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script>

        <script>
            var valineConfig = {"enable":true,"appId":"KsvwTyXnAh0WGY3v1dqhc4aw-MdYXbMMI","appKey":"EkdJeVPWq0VAMguwD2bKQ4CY","placeholder":"还是偶尔想要伟大","path":null,"avatar":"retro","meta":["nick","mail","link"],"pageSize":null,"lang":null,"visitor":null,"highlight":null,"avatarForce":null,"recordIP":null,"serverURLs":null,"enableQQ":null,"requiredFields":["nick","mail"],"emojiCDN":null,"emojiMaps":null};
            valineConfig.el = '#valine_container';
            for (var i in valineConfig) {
                if (valineConfig[i] === null) delete valineConfig[i];
            }
            new Valine(valineConfig);
        </script>
    

    
    
    
    
    
    
    
    
    

    



        <!--
 * @Descripttion: 
 * @Date: 2020-10-18 09:00:52
-->
<!-- {# 随机三角丝带背景 #} -->

  <canvas id="evanyou"></canvas>
  <style>
    #evanyou {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: -1;
    }
  </style>
  <script src="/js/evan-you.js"></script>

    </body>
</html>

